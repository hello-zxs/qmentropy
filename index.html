<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday</title>
    <style>
        /* 1. åŸºç¡€æ ·å¼ï¼šçº¯é»‘èƒŒæ™¯ï¼Œç¡®ä¿æ²‰æµ¸æ„Ÿ */
        body {
            margin: 0;
            overflow: hidden;
            background-color: #020205; /* æ¥è¿‘çº¯é»‘çš„å¤œç©ºè‰² */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            cursor: crosshair; /* é¼ æ ‡å˜æˆå‡†æ˜Ÿ */
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            user-select: none; /* é˜²æ­¢æŒ‰ä½æ—¶é€‰ä¸­æ–‡å­— */
        }

        /* 2. æ–‡å­—æ ·å¼ */
        .content {
            position: relative;
            z-index: 10;
            text-align: center;
            pointer-events: none; /* è®©é¼ æ ‡äº‹ä»¶ç©¿é€æ–‡å­— */
        }
        h1 {
            color: #fff;
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(255,255,255,0.3);
        }
        .birthday-text {
            font-size: 4rem;
            font-weight: bold;
            background: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000);
            background-size: 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: glowing 20s linear infinite;
            filter: drop-shadow(0 0 20px rgba(255,255,255,0.6));
        }
        @keyframes glowing {
            0% { background-position: 0 0; }
            50% { background-position: 400% 0; }
            100% { background-position: 0 0; }
        }

        /* 3. æç¤ºè¯­æ ·å¼ */
        .hint {
            color: #888;
            margin-top: 30px;
            font-size: 0.9rem;
            letter-spacing: 1px;
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse {
            0% { opacity: 0.4; }
            50% { opacity: 1; }
            100% { opacity: 0.4; }
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
    </style>
</head>
<body>
    <div class="content">
        <h1>Hello, I am zxs</h1>
        <div class="birthday-text">Happy Birthday! ğŸ‚</div>
        <p class="hint">æŒ‰ä½é¼ æ ‡ç§¯æ”’èƒ½é‡... æ¾å¼€å¼•çˆ†ï¼</p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <script>
        // å®šä¹‰å˜é‡
        let timer; // è®¡æ—¶å™¨
        let power = 0; // èƒ½é‡å€¼
        let isPressed = false; // é¼ æ ‡æ˜¯å¦æŒ‰ä¸‹çš„çŠ¶æ€

        // 1. è·å–é¼ æ ‡åœ¨å±å¹•ä¸Šçš„æ¯”ä¾‹åæ ‡ (0-1ä¹‹é—´)
        function getCoordinates(e) {
            // å¦‚æœæ˜¯æ‰‹æœºè§¦æ‘¸äº‹ä»¶
            if(e.touches && e.touches.length > 0) {
                return {
                    x: e.touches[0].clientX / window.innerWidth,
                    y: e.touches[0].clientY / window.innerHeight,
                    clientX: e.touches[0].clientX,
                    clientY: e.touches[0].clientY
                };
            }
            // å¦‚æœæ˜¯é¼ æ ‡äº‹ä»¶
            return {
                x: e.clientX / window.innerWidth,
                y: e.clientY / window.innerHeight,
                clientX: e.clientX,
                clientY: e.clientY
            };
        }

        // 2. æŒ‰ä½é¼ æ ‡ï¼šå‘å°„â€œä¸Šå‡è½¨è¿¹â€ç«èŠ±
        function startCharging(e) {
            isPressed = true;
            power = 20; // åˆå§‹å¨åŠ›

            // æ¸…é™¤å¯èƒ½å­˜åœ¨çš„æ—§å®šæ—¶å™¨
            clearInterval(timer);

            timer = setInterval(() => {
                let coords = getCoordinates(e);
                
                // èƒ½é‡éšç€æ—¶é—´å¢åŠ ï¼Œæœ€å¤§ä¸è¶…è¿‡ 200
                if (power < 300) power += 5;

                // å‘å°„é‡‘è‰²çš„â€œå°¾ç„°â€ç²’å­
                confetti({
                    particleCount: 3, // æ¯æ¬¡å°‘å‘ä¸€ç‚¹ï¼Œå½¢æˆè¿è´¯çº¿æ¡
                    startVelocity: 30, // åˆå§‹é€Ÿåº¦
                    spread: 20, // èŒƒå›´çª„ä¸€ç‚¹ï¼Œåƒå–·å°„
                    origin: { x: coords.x, y: coords.y },
                    colors: ['#FFD700', '#FFA500', '#FFFFFF'], // é‡‘è‰²ã€æ©™è‰²ã€ç™½è‰²
                    gravity: -1, // ã€å…³é”®ã€‘åå‘é‡åŠ›ï¼Œè®©ç²’å­å‘ä¸Šé£ï¼
                    scalar: 0.6, // ç²’å­å°ä¸€ç‚¹
                    drift: 0,
                    ticks: 30 // æ¶ˆå¤±å¾—å¿«ä¸€ç‚¹
                });

            }, 50); // æ¯50æ¯«ç§’å‘å°„ä¸€æ¬¡
        }

        // 3. æ¾å¼€é¼ æ ‡ï¼šå¼•çˆ†å¤§çƒŸèŠ±
        function releaseExplosion(e) {
            if (!isPressed) return;
            isPressed = false;
            clearInterval(timer); // åœæ­¢å‘å°„è½¨è¿¹

            let coords = getCoordinates(e);

            // åªæœ‰æŒ‰äº†ä¸€ä¼šå„¿æ‰ç‚¸å¤§çš„ï¼Œé˜²æ­¢è¯¯è§¦
            // å¨åŠ›è¶Šå¤§ï¼Œæ‰©æ•£èŒƒå›´è¶Šå¹¿
            confetti({
                particleCount: power, // ç²’å­æ•°é‡ = ç§¯æ”’çš„èƒ½é‡
                startVelocity: 45 + (power / 10), // èƒ½é‡è¶Šå¤§ï¼Œç‚¸å¾—è¶Šé«˜
                spread: 100 + (power / 5), // èƒ½é‡è¶Šå¤§ï¼Œç‚¸å¾—è¶Šå®½
                origin: { x: coords.x, y: coords.y },
                gravity: 1, // æ¢å¤æ­£å¸¸é‡åŠ›
                scalar: 1.2, // çˆ†ç‚¸çš„ç²’å­å¤§ä¸€ç‚¹
                ticks: 300 // ç•™å­˜æ—¶é—´é•¿ä¸€ç‚¹
            });
            
            // é‡ç½®èƒ½é‡
            power = 0;
        }

        // --- ç»‘å®šäº‹ä»¶ (åŒæ—¶æ”¯æŒç”µè„‘é¼ æ ‡å’Œæ‰‹æœºè§¦æ‘¸) ---
        
        // ç”µè„‘ç«¯
        document.addEventListener('mousedown', startCharging);
        document.addEventListener('mouseup', releaseExplosion);
        
        // æ‰‹æœºç«¯ (é˜²æ­¢æŒ‰ä½å‡ºç°å³é”®èœå•)
        document.addEventListener('touchstart', startCharging, {passive: false});
        document.addEventListener('touchend', releaseExplosion);
        document.addEventListener('contextmenu', event => event.preventDefault());

        // é¼ æ ‡ç§»åŠ¨æ—¶ï¼Œå¦‚æœæŒ‰ä½ï¼Œä¹Ÿè¦æ›´æ–°è½¨è¿¹ä½ç½®ï¼ˆå¯é€‰ä¼˜åŒ–ï¼‰
        document.addEventListener('mousemove', (e) => {
            if(isPressed) {
                // å¯ä»¥åœ¨è¿™é‡Œæ›´æ–°å‘å°„æºä½ç½®ï¼Œä½†ä¸ºäº†ç®€å•ï¼Œè¿™é‡Œè®©å®ƒåƒçƒŸèŠ±æ£’ä¸€æ ·æ–­æ–­ç»­ç»­ä¹Ÿå¾ˆå¥½çœ‹
            }
        });

    </script>
</body>
</html>
